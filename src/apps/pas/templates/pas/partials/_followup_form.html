<form hx-post="{{ form_action }}"
      hx-target="#pas-modal-content"
      hx-swap="innerHTML"
      class="space-y-6"
      enctype="multipart/form-data">
  {% csrf_token %}
  <header class="space-y-1">
    <h3 class="text-xl font-semibold text-base-content">Registrar seguimiento</h3>
    <p class="text-sm text-base-content/70">
      Actualiza el estado de la actividad:
      <span class="font-semibold text-base-content">{{ activity.accion|striptags|truncatechars:80 }}</span>
    </p>
  </header>

  {{ form.media }}

  {% if form.non_field_errors %}
    <div class="alert alert-error">
      {% for error in form.non_field_errors %}
        <span>{{ error }}</span>
      {% endfor %}
    </div>
  {% endif %}

  <div class="grid gap-6">
    <div class="form-control">
      {{ form.descripcion.label_tag }}
      {{ form.descripcion }}
      {% for error in form.descripcion.errors %}<p class="mt-1 text-xs text-error">{{ error }}</p>{% endfor %}
    </div>
    <div class="grid gap-6 md:grid-cols-2">
      <div class="form-control">
        {{ form.fecha.label_tag }}
        {{ form.fecha }}
        {% for error in form.fecha.errors %}<p class="mt-1 text-xs text-error">{{ error }}</p>{% endfor %}
      </div>
      <div class="form-control">
        {{ form.estado.label_tag }}
        {{ form.estado }}
        {% for error in form.estado.errors %}<p class="mt-1 text-xs text-error">{{ error }}</p>{% endfor %}
      </div>
    </div>
    <div class="grid gap-6 md:grid-cols-2">
      <div class="form-control">
        {{ form.responsable.label_tag }}
        {{ form.responsable }}
        {% for error in form.responsable.errors %}<p class="mt-1 text-xs text-error">{{ error }}</p>{% endfor %}
      </div>
      <div class="form-control">
        {{ form.evidencia.label_tag }}
        {{ form.evidencia }}
        {% for error in form.evidencia.errors %}<p class="mt-1 text-xs text-error">{{ error }}</p>{% endfor %}
      </div>
    </div>
  </div>

  <div class="flex flex-wrap items-center gap-3">
    <button type="submit" class="btn btn-primary">Guardar seguimiento</button>
    <button type="button" class="btn btn-ghost" data-close-modal="{{ modal_id|default:'pas-modal' }}">Cancelar</button>
  </div>
</form>
